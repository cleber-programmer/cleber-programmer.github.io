Rex(["push","http.handler","http.parse","route","route.init","app.interceptor.token","app.view.details","app.view.listing"],function(t,e,i,n,o,r,c,a){t(e,r),t(e,i),n("/",a),n("/details/:id",c),o()}),Rex("app.interceptor.token",["add"],function(t){return{request:function(e,i,n,o){return o.setRequestHeader("Authorization",t("Bearer ","363102d7f9470edb0ef1464915fb8c3c92519756164ed476b2a560cbf85df48a")),n}}}),Rex("app.service.echo",["cond","forEach","partial","push","t"],function(t,e,i,n,o){function r(){e(d,u())}function c(t){(t.inView||l)(t)}function a(t){(t.outView||l)(t)}function u(){return t([[s,c],[o,a]])}function s(t){return p(t.getBoundingClientRect?t.getBoundingClientRect():{})}function p(t){return t.top<=document.documentElement.clientHeight}function l(){}var d=[];return window.addEventListener("scroll",r,!1),Object.defineProperty(r,"push",{value:i(n,[d])})}),Rex("app.service.shots",["format","or","http"],function(t,e,i){return function(n,o){return i("GET",t("https://api.dribbble.com/v1/shots/{0}?page={1}&per_page={2}",[e(n,""),1,96]))(200,function(t){o(t)}),function(t){o=t}}}),Rex("app.view.details",["$","get","or","replace","h","h.reflow","route.pushState","app.service.echo","app.service.shots","app.widget.shot"],function(t,e,i,n,o,r,c,a,u,s){return function(p,l){function d(t){f(t),a()}function f(i){r(t("main"),o("main",[o("ul.description",[,o("li.description_back",[o("img.description_icon",{src:"../content/img/back.svg",onclick:function(t){event.stopPropagation(),c(p,null,"/")}})]),s(i),o("li.description_user",[o("img.description_avatar",{src:e(i.user,"avatar_url","")}),o("span.description_name",e(i.user,"name",""))]),o("li.description_text",n(e(i,"description",""),/<[^>]+>/gm,""))])]))}i(p,{}).shot?d(p.shot):u(l.id)(d)}}),Rex("app.view.listing",["$","forEach","map","or","slice","h","h.reflow","app.service.echo","app.service.shots","app.widget.shot"],function(t,e,i,n,o,r,c,a,u,s){return function(p){function l(t){f(t),setTimeout(d,250)}function d(){e(o(document.querySelectorAll("img.shot_image")),a.push),a()}function f(e){c(t("main"),r("main",[r("ul.listing",i(e,s))]))}n(p,{}).data?l(p.data):u()(l)}}),Rex("app.widget.shot",["add","get","partial","h","route.pushState"],function(t,e,i,n,o){return function(r,c,a){return n("li.shot",{onclick:i(o,[{data:a,shot:r},null,t("/details/",e(r,"id",0))])},[n("figure",[n("img.shot_image",{inView:function(t){t.src=e(r.images,"normal","")}}),n("figcaption.shot_legend",[n("ul",[n("li.shot_title",e(r,"title","")),n("li.shot_views",e(r,"views_count","0"))])])])])}});