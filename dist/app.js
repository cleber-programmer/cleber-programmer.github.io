Rex(["push","http.handler","http.parse","route","route.init","app.interceptor.token","app.view.details","app.view.listing"],function(t,e,n,i,o,r,c,u){t(e,r),t(e,n),i("/",u),i("/details/:id",c),o()}),Rex("app.interceptor.token",["add"],function(t){return{request:function(e,n,i,o){return o.setRequestHeader("Authorization",t("Bearer ","363102d7f9470edb0ef1464915fb8c3c92519756164ed476b2a560cbf85df48a")),i}}}),Rex("app.service.back",["h","route.pushState"],function(t,e){return function(){event.stopPropagation(),e(window.history.state,null,"/")}}),Rex("app.service.echo",["cond","forEach","partial","push","t"],function(t,e,n,i,o){function r(){e(f,a())}function c(t){(t.inView||d)(t)}function u(t){(t.outView||d)(t)}function a(){return t([[p,c],[o,u]])}function p(t){return s(t.getBoundingClientRect?t.getBoundingClientRect():{})}function s(t){return t.top<=document.documentElement.clientHeight}function d(){}var f=[];return window.addEventListener("scroll",r,!1),Object.defineProperty(r,"push",{value:n(i,[f])})}),Rex("app.service.shots",["format","or","http"],function(t,e,n){return function(i,o){return n("GET",t("https://api.dribbble.com/v1/shots/{0}?page={1}&per_page={2}",[e(i,""),1,96]))(200,function(t){o(t)}),function(t){o=t}}}),Rex("app.widget.back",["h","app.service.back"],function(t,e){return function(){return t("li.description_back",[t("img.description_icon",{src:"../content/img/back.svg",onclick:e})])}}),Rex("app.widget.legend",["get","h"],function(t,e){return function(n){return e("figcaption.shot_legend",[e("ul",[e("li.shot_title",t(n,"title","")),e("li.shot_views",t(n,"views_count","0"))])])}}),Rex("app.widget.shot",["add","get","h","route.pushState","app.widget.legend"],function(t,e,n,i,o){return function(r,c,u){function a(t){t.src=e(r.images,"normal","")}function p(){i({data:u,shot:r},null,t("/details/",e(r,"id",0)))}return n("li.shot",{onclick:p},[n("figure",[n("img.shot_image",{inView:a}),o(r)])])}}),Rex("app.widget.text",["get","replace","h"],function(t,e,n){return function(i){return n("li.description_text",e(t(i,"description",""),/<[^>]+>/gm,""))}}),Rex("app.widget.user",["get","h"],function(t,e){return function(n){return e("li.description_user",[e("img.description_avatar",{src:t(n.user,"avatar_url","")}),e("span.description_name",t(n.user,"name",""))])}}),Rex("app.view.details",["$","or","h","h.reflow","app.service.echo","app.service.shots","app.widget.back","app.widget.shot","app.widget.text","app.widget.user"],function(t,e,n,i,o,r,c,u,a,p){return function(s,d){function f(t){l(t),o()}function l(e){i(t("main"),n("main",[n("ul.description",[c(),u(e),p(e),a(e)])]))}e(s,{}).shot?f(s.shot):r(d.id)(f)}}),Rex("app.view.listing",["$","forEach","map","or","slice","h","h.reflow","app.service.echo","app.service.shots","app.widget.shot"],function(t,e,n,i,o,r,c,u,a,p){return function(s){function d(t){l(t),setTimeout(f,250)}function f(){e(o(document.querySelectorAll("img.shot_image")),u.push),u()}function l(e){c(t("main"),r("main",[r("ul.listing",n(e,p))]))}i(s,{}).data?d(s.data):a()(d)}});